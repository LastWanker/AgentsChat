但也产生了一些bug，比如事后维护的表不再生效。
【剪枝点 1：范围与分组】

这次收敛把 scope/分组的概念完整移除，原因很简单：在“能聊、能存、能算权重”的最小闭环里，它没有刚性价值，反而会带来可见性分叉、分组一致性和规则维护成本。

已完成的裁剪动作（通俗版）：
1) 事件与意向里不再出现 scope 字段，世界不再做“谁能看见谁”的判断，所有事件默认对观察者可见。
2) Agent 层删掉 join_group/leave_group、speak_public 以及分组相关的状态逻辑。
3) Query/Resolver 不再按 scope 过滤，索引只依赖 tags + 关键词 + 最近事件。

现状效果：
- agent 可以直接畅聊，不会因为 scope 不匹配而“看不见”。
- 事件保存更干净，索引只靠 tags，不靠分组权限。
- 以后如果真要做权限/分组，也可以作为独立系统在事件之外处理。
【剪枝点 2：冷却节奏】

旧的冷却机制是“允许/拒绝+suppressed”，并且混合了时间冷却、轮次冷却、事件间隔等多条规则。这会导致事件被压制、调度被打断，还容易出现“该说不说”的错觉。

本次裁剪策略很直接：
1) 删除 Router 层的 cooldown 与 suppressed 逻辑。
2) 在主循环中强制每轮耗时至少 1 秒；达不到就阻塞，绝不抑制意向。

现状效果：
- 轮次节奏固定，系统稳定输出，不会出现“被压制”的不透明结果。
- 所有意向都能落地成事件，调度逻辑更单纯。
- 若未来要提速，只需调整“1 秒”即可。
【剪枝点 3：请求/提交/评价链】

request/submit/evaluation 是一套完整流程，但在当前实践里，它们既不是聊天必需品，也带来了大量额外结构（完成闭环、请求跟踪、评分等）。这次收敛决定彻底移除。

已完成的裁剪动作：
1) Agent 端删除 request/submit/evaluation 相关方法，仅保留 speak。
2) Request 完成追踪器与相关监听逻辑移除。
3) LLM prompt/Schema/Finalizer 中的 request/result/score 分支全部删掉。
4) SessionMemory 不再给引用打分，不再基于 request 维护 todo。

现状效果：
- 系统只保留“说话+引用+标签”的最小聊天骨架。
- 评价/打分能力转为事后分析（或独立服务），不会干扰实时对话。
- 事件保存更纯净，结构稳定。
【剪枝点 4：事件类型强语义 & completed】

过去的 event_type/completed 设计是为了驱动流程闭环，但在当前实践里它们属于“设计理想”，不是最低可用的现实约束。此次收敛把这些强语义全部弱化。

已完成的裁剪动作：
1) Event/Intention 中移除 completed 字段与相关判断。
2) Router/Interpreter 不再“压制”事件，只做最小校验与投递。
3) Query 不再支持 event_types 过滤，检索只看 tags/关键词/时间。

现状效果：
- Event 就是 Event，不再携带“流程完成度”负担。
- 事件类型保留为标签性字段，不再驱动系统流程。
- 未来如果需要流程管理，可以在事件之上做独立的流程引擎。
【剪枝收敛总结】

本轮收敛后的系统，只保留“事件记录 + 引用 + tags 索引 + 固定节奏调度”这条主骨架：

1) Agent 只负责说话与引用，不再背负请求/评价/分组等流程负担。
2) World 不做可见性过滤，事件广播与存储逻辑完全统一。
3) 调度节奏固定为每轮 1 秒，彻底去掉 suppressed/冷却造成的不透明阻断。
4) 标签池继续保留并成为检索主路径，引用权重可在事后计算或外部服务生成。

整体收敛后的好处：
- 结构更少、链路更短、成本更低、调试更清晰。
- 事件可持续保存，后续任何“权重/评分/总结”都能在外部做。
- tags 机制成为未来性能与索引优化的唯一核心。

接下来如果要扩展，只建议两条路：
- 保持事件模型稳定，用外部工具叠加“任务/评估/流程”。
- 继续优化 tags 与检索策略，强化可回溯与可定位能力。